# O'kanban - API E01 - Atelier Conception & gestion de projet

[Rappel : lien pour cr√©er des issues](https://github.com/O-clock-Sigurd/Soutien-ateliers/issues)

## √âtape 1 - Mise en place `Git`

Une fois le `ochallenge` accept√© et clon√©, pensez √† cr√©er une branche `jour1` :

- `git checkout -b jour1`

Et n'h√©sitez pas √† `push` cette branche sur `Github` :

- `git push --set-upstream origin jour1` la premi√®re fois
- `git push` les fois suivantes

## √âtape 2 - Analyse du besoin client

**Objectif : cr√©er un Kanban de gestion de projet**  (type `Trello`, `Github Projet`‚Ä¶)

- on souhaite cr√©er une application pr√©sentant un ¬´ board de gestion de projet ¬ª, o√π il est possible de cr√©er des **cartes** √† l'int√©rieur de **listes** ;
- l'utilisateur (unique, pas besoin de le stocker en BDD) peut cr√©er autant de listes qu'il/elle d√©sire et ajouter autant de cartes √† l'int√©rieur de ces listes ;
- chaque liste dispose d'un `titre` et d'une `position` au sein du board ;
- chaque carte dispose d'un `contenu`, d'une `position` au sein de la liste, d'une `couleur` (optionnelle) et d'un ou plusieurs **label(s)** (optionnel(s)) ;
- un label a un `nom` (ex : Urgent) et peut avoir une `couleur` (optionnelle).

On se base sur ce besoin client, et on souhaite faire l'analyse de ce besoin en vue de produire le `MCD` de l'application. **N'h√©sitez pas √† cr√©er une issue si vous souhaitez clarifier un point aupr√®s du client**

## √âtape 3 - User Stories

√âcrire quelques ¬´ r√©cits utilisateur ¬ª (`user stories`) √† consigner dans un tableau `Markdown` dans un fichier `docs/resources/user-stories.md`.

Rappels :

- une `user story` est un **scenario de test** qui nous aide √† clarifier notre besoin, comprendre les fonctionnalit√©s attendues dans notre application, et nous permet de v√©rifier si l'impl√©mentation correspond bien aux r√©cits fix√©s pr√©alablement ;
- le formalisme habituel : `En tant que [ROLE], je souhaite [ACTION] (( afin de [OBJECTIF] ))`.

## √âtape 4 - Wireframes

Faire un bref `wireframe` pour notre application √† l'aide de votre outil pr√©f√©r√© :

- [Whimsical](https://whimsical.com/)
- `TLDraw`
- `Draw.io`
- `Excalidraw`
- `Microsoft Paint` pour les plus aventureux
- ‚Ä¶

Rappels :

- un `wireframe` est un **croquis fonctionnel** qui nous aide √† comprendre les fonctionnalit√©s de notre application et les interactions possibles avec l'utilisateur ;
- il est possible d'avoir plusieurs wireframes d'une m√™me page, par exemple selon les diff√©rents √©tats de l'utilisateur (mobile, connect√©/d√©connect√©‚Ä¶).

## √âtape 5 - Mod√®le Conceptuel de Donn√©es (MCD)

**Mod√©lisation (MERISE): comment stocker ?**

Dessinez le MCD en utilisant l'outil de votre choix :

- un papier et un crayon
- [draw.io](https://draw.io)
- [MoCoDo](http://mocodo.wingi.net/) (cf. [fiche recap](https://kourou.oclock.io/ressources/fiche-recap/mocodo/))
- ‚Ä¶

Rappels :

- le MCD d√©coule du besoin : il arrive souvent d'avoir plusieurs mod√©lisations possibles pour un m√™me probl√®me !
- n'h√©sitez pas √† refaire un tour sur la [fiche recap' du MCD](https://kourou.oclock.io/ressources/fiche-recap/mcd-modele-conceptuel-de-donnees/) ;
- [autre article complet](https://gist.github.com/enzoclock/3b16a04277a9ef620ed046aaf4149c4b).

## √âtape 6 - Mod√®le Logique de Donn√©es (MLD)

Traduire le MCD de l'application sous forme de MLD en utilisant les [r√®gles de transformation](https://kourou.oclock.io/ressources/fiche-recap/mld/).

Le formalisme attendu est, au choix :

- sous forme de texte
- sous forme d'un sch√©ma
- ou les deux !

Rappels :

- l'√©tape du MLD est une √©tape de traduction :
  - traduire les noms des entit√©s en nom de tables ;
  - traduire les noms des attributs en nom de colonnes ;
  - traduire les associations et leurs cardinalit√©s en cl√©s √©trang√®res et/ou tables de liaison.

## √âtape 7 - Cr√©er la base de donn√©es et l'utilisateur

√Ä l'aide du client `psql` :

- cr√©er un utilisateur Postgres : `okanban` (avec un mot de passe `okanban`)
- cr√©er une BDD pour notre application : `okanban`

V√©rifier la bonne cr√©ation de la BDD (`\l`) et de l'utilisateur (`\du`).

## (BONUS) √âtape 8 - Mod√®le Physique de Donn√©es (MPD)

Il est temps de cr√©er les tables dans la base de donn√©es, et d'y ajouter quelques donn√©es d'√©chantillonnage afin d'am√©liorer notre exp√©rience de d√©veloppement.

Pour cela, deux options s'offrent √† nous :

- **OPTION 1** : Cr√©er des scripts `SQL` et les ex√©cuter directement sur la base.
- **OPTION 2** : Cr√©er des mod√®les `Sequelize`, et les synchroniser avec la base.

On se propose de r√©aliser la premi√®re option (SQL) durant ce challenge, et √©tudier la seconde lors de la correction en cours ! Libre √† toi √©galement d'attaquer la seconde option en autonomie si tu te sens d'attaque !

Libre √† toi √©galement de demander une `review` de ton `MLD` aux helpers pr√©sents avant d'attaquer cette partie. Par exemple, en cr√©ant une PR de ta branche `jour1` vers `master`, et notifier les concern√©s !

### 8.1. Cr√©ation des tables

Commen√ßons par **r√©viser la cr√©ation d'une table en SQL**. Garder la [fiche recapitulative SQL](https://kourou.oclock.io/ressources/fiche-recap/le-langage-sql/) sous le coude n'est pas une mauvaise id√©e üòâ.

Cr√©er un fichier `data/create_tables.sql` dans lequel on cr√©√© les tables telles que d√©finies dans notre MLD. Quelques bonnes pratiques :

- ne pas h√©siter √† s'inspirer des scripts SQL des saisons pr√©c√©dentes ;
- on pense √† d√©truire les tables "si elles existent" avant de les re-cr√©er ;
- on pense √† englober nos instructions dans une [transaction](https://docs.postgresql.fr/14/tutorial-transactions.html) ;
- on pense √† tester r√©guli√®rement en ex√©cutant le fichier sur la BDD, puis constater que les tables existes (`\dt`) ;
- et pourquoi pas ins√©rer quelques √©l√©ments dans la table manuellement (via `PSQL`) pour tester √©galement.

### 8.2. Echantillonage

Cr√©er un fichier `data/seed_database.sql`, √©crire les instructions SQL pour ins√©rer des donn√©es d'exemple pour tester le bon fonctionnement de nos tables.

Pense-b√™te :

- n'oublie pas de remplir √©galement la table de liaison !

### Fin

**Bravo** : vous avez r√©alis√© la conception et mod√©lisation MERISE d'une application de bout en bout !
